{% extends "base.html" %}

{% block title %}{{ project.title }} | My Portfolio{% endblock %}

{% block content %}
<div class="main">
    <section id="project-overview">
        <div class="container1">
            <!-- Project Title -->
            <h1>{{ project.title }}</h1>

            <!-- Image Carousel Section -->
            <div class="carousel">
                <div class="carousel-images">
                    {% for image in project.images %}
                    <img class="carousel-slide" src="{{ image }}" alt="Project Screenshot {{ loop.index }}">
                    {% endfor %}
                </div>

                <!-- Navigation buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>

            <!-- Project details -->
            <h2>Project Overview</h2>
            <p>{{ project.description }}</p>

            <h3>Tools Used</h3>
            <div class="tools-used">
                {% for tool in project.tools %}
                <span>{{ tool }}</span>
                {% endfor %}
            </div>

            <div class="links">
                <a href="{{ project.github_link }}" class="btn btn--bg">GitHub</a>
                {% if project.live_link %}
                <a href="{{ project.live_link }}" class="btn btn--bg">Live Demo</a>
                {% endif %}
            </div>

        </div>
    </section>
</div>
{% endblock %}

{% block scripts %}
<script>
    let slideIndex = 0;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function showSlides(n) {
        let slides = document.querySelectorAll(".carousel-slide");

        if (n >= slides.length) {
            slideIndex = 0;
        }

        if (n < 0) {
            slideIndex = slides.length - 1;
        }

        // Hide all images
        slides.forEach(slide => slide.style.display = "none");

        // Show the current slide
        slides[slideIndex].style.display = "block";
    }

    // Auto slide feature (optional)
    setInterval(() => plusSlides(1), 5000);  // Change image every 5 seconds
</script>
{% endblock %}